# ===================================
# GARCEZ PALHA - ENVIRONMENT VARIABLES
# ===================================
# Copie este arquivo para .env.local e preencha os valores

# ===================================
# SUPABASE (OBRIGATÓRIO)
# ===================================
# Get from: https://supabase.com/dashboard → Settings → API
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ===================================
# NEXTAUTH (OBRIGATÓRIO)
# ===================================
NEXTAUTH_URL=http://localhost:3000
# Generate: https://generate-secret.vercel.app/32 ou openssl rand -base64 32
NEXTAUTH_SECRET=your-secret-here-min-32-characters

# ===================================
# OPENAI (OBRIGATÓRIO)
# ===================================
# Get from: https://platform.openai.com/api-keys
# Usado para: Geração de documentos jurídicos com IA + Chat com voz
# IMPORTANTE: NEXT_PUBLIC_OPENAI_API_KEY é usado no cliente para Realtime API
OPENAI_API_KEY=sk-proj-your-key-here
NEXT_PUBLIC_OPENAI_API_KEY=sk-proj-your-key-here

# ===================================
# D-ID (OBRIGATÓRIO - Avatar Visual)
# ===================================
# Get from: https://studio.d-id.com/account-settings
# Usado para: Avatar visual com lip sync no chat de voz
# Formato: Basic Auth encoded (não adicione "Basic " no início)
DID_API_KEY=your-d-id-api-key-here

# ===================================
# MERCADOPAGO (OPCIONAL)
# ===================================
# Get from: https://www.mercadopago.com.br/developers/panel
# Teste (desenvolvimento):
MERCADOPAGO_ACCESS_TOKEN=TEST-1234567890-123456-abc...
NEXT_PUBLIC_MERCADOPAGO_PUBLIC_KEY=TEST-abcdef12-3456-7890-abcd-ef...
# Webhook Secret (for signature verification):
# Get from: MercadoPago Dashboard → Webhooks → Secret Key
MERCADOPAGO_WEBHOOK_SECRET=your-webhook-secret-here
# Produção (descomente quando for usar):
# MERCADOPAGO_ACCESS_TOKEN=APP_USR-1234567890-123456-abc...
# NEXT_PUBLIC_MERCADOPAGO_PUBLIC_KEY=APP_USR-abcdef12-3456-7890-abcd-ef...
# MERCADOPAGO_WEBHOOK_SECRET=your-production-webhook-secret

# ===================================
# STRIPE (OPCIONAL)
# ===================================
# Get from: https://dashboard.stripe.com/apikeys
# Teste (desenvolvimento):
STRIPE_SECRET_KEY=sk_test_your_test_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_test_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs (create these in Stripe Dashboard → Products → Prices)
# Plans:
NEXT_PUBLIC_STRIPE_PRICE_STARTER=price_starter_monthly
NEXT_PUBLIC_STRIPE_PRICE_PRO=price_pro_monthly
NEXT_PUBLIC_STRIPE_PRICE_ENTERPRISE=price_enterprise_monthly
# Addons:
NEXT_PUBLIC_STRIPE_PRICE_ADDON_NICHO=price_addon_nicho
NEXT_PUBLIC_STRIPE_PRICE_ADDON_CATALOGO=price_addon_catalogo

# Produção (descomente quando for usar):
# STRIPE_SECRET_KEY=sk_live_your_live_key_here
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_live_key_here

# ===================================
# WHATSAPP CLOUD API (OBRIGATÓRIO PARA P2-002)
# ===================================
# Get from: Meta Business Suite → WhatsApp → API Setup
# https://developers.facebook.com/apps
# Usado para: Automação WhatsApp (P2-002)
WHATSAPP_CLOUD_TOKEN=your-whatsapp-token-here
WHATSAPP_PHONE_NUMBER_ID=123456789012345
WHATSAPP_VERIFY_TOKEN=your-verify-token-here
WHATSAPP_BUSINESS_ACCOUNT_ID=123456789012345
# Aliases para P2-002 (mantém compatibilidade)
WHATSAPP_API_TOKEN=your-whatsapp-token-here

# ===================================
# RESEND (OBRIGATÓRIO PARA P2-001)
# ===================================
# Get from: https://resend.com/api-keys
# Plano Free: 3,000 emails/mês
# Usado para: Email Sequences (P2-001)
RESEND_API_KEY=re_your_api_key_here
RESEND_FROM_EMAIL=contato@garcezpalha.com
RESEND_WEBHOOK_SECRET=your_webhook_signing_secret

# ===================================
# GOOGLE APIS (OPCIONAL - Calendar & Gmail)
# ===================================
# Get from: Google Cloud Console → APIs & Services → Credentials
# Setup Guide: docs/setup/GOOGLE_CALENDAR_SETUP.md
#
# 1. Enable APIs: Calendar API + Gmail API
# 2. Create OAuth 2.0 credentials
# 3. Get refresh token from OAuth Playground
#
# Google Calendar: Sync appointments and deadlines to calendar
GOOGLE_CALENDAR_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CALENDAR_CLIENT_SECRET=GOCSPX-your-client-secret
GOOGLE_CALENDAR_REFRESH_TOKEN=1//your-refresh-token-here
#
# Gmail Monitor: Auto-create leads from inbox emails
# Note: Can reuse same credentials as Calendar
GMAIL_CLIENT_ID=your-client-id.apps.googleusercontent.com
GMAIL_CLIENT_SECRET=GOCSPX-your-client-secret
GMAIL_REFRESH_TOKEN=1//your-refresh-token-here
#
# Admin email for lead notifications
ADMIN_EMAIL=leonardo.palha@gmail.com

# ===================================
# TELEGRAM (OPCIONAL - Notificações)
# ===================================
# Get from: @BotFather no Telegram
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# ===================================
# TWILIO WHATSAPP (RECOMENDADO - Mais estável que Baileys)
# ===================================
# Get from: https://www.twilio.com/console
# 1. Crie conta em https://www.twilio.com/try-twilio
# 2. Console → Account → Account SID e Auth Token
# 3. Messaging → Try it out → Send a WhatsApp message
# 4. Use Sandbox Number ou configure número próprio
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# ===================================
# CLICKSIGN (OBRIGATÓRIO PARA P2-003)
# ===================================
# Get from: https://app.clicksign.com/configuracoes/api
# Plano: R$ 79/mês (10 assinaturas incluídas)
# Usado para: Assinatura digital de documentos jurídicos
CLICKSIGN_API_TOKEN=your_clicksign_api_token
CLICKSIGN_WEBHOOK_SECRET=your_webhook_secret

# ===================================
# PJE - PROCESSO JUDICIAL ELETRÔNICO (OBRIGATÓRIO PARA P2-004)
# ===================================
# Get from: Tribunal responsável (ex: TJ-RJ, TRT, TST)
# Usado para: Monitoramento de processos (P2-004)
PJE_API_URL=https://pje.tjrj.jus.br/api/v1
PJE_API_TOKEN=your_pje_api_token
# Tribunais adicionais (se necessário)
# ESAJ_API_URL=https://esaj.tjsp.jus.br/api
# ESAJ_API_TOKEN=your_esaj_token

# ===================================
# GMAIL API (OPCIONAL - Email Monitor)
# ===================================
# Get from: Google Cloud Console
GMAIL_CLIENT_ID=your_gmail_client_id
GMAIL_CLIENT_SECRET=your_gmail_client_secret
GMAIL_REFRESH_TOKEN=your_gmail_refresh_token

# ===================================
# REDIS CACHE (OBRIGATÓRIO PARA P2 - Filas e Estado)
# ===================================
# Usado para: Email sequences queue, process monitoring state
# Opção 1: Railway (Recomendado para produção - $5/mês)
# Get from: https://railway.app → New Project → Add Redis
REDIS_URL=redis://default:password@host.railway.app:6379

# Opção 2: Docker Local (Development)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=garcezpalha2025

# Opção 3: Upstash (Free tier limitado - 10k commands/dia)
# UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-token

# Se nenhuma opção configurada: Sistema usa cache em memória (fallback automático)

# ===================================
# INNGEST (OBRIGATÓRIO PARA P2 - Cron Jobs & Events)
# ===================================
# Get from: https://app.inngest.com → Settings → Keys
# Usado para: Cron jobs (email sequences, process monitoring)
# Inngest fornece scheduling mais robusto que Vercel Cron
INNGEST_EVENT_KEY=your_event_key_here
INNGEST_SIGNING_KEY=signkey_prod_your_signing_key_here

# ===================================
# VERCEL CRON JOBS (FALLBACK - OPCIONAL)
# ===================================
# Generate: openssl rand -base64 32
# Usado apenas se não usar Inngest
# - /api/email/sequences/cron (a cada 15 min)
# - /api/process-monitor/cron (a cada 30 min)
CRON_SECRET=your_cron_secret

# ===================================
# GOOGLE ANALYTICS (OPCIONAL - Analytics)
# ===================================
# Get from: Google Analytics 4 → Admin → Data Streams → Measurement ID
# Format: G-XXXXXXXXXX
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ===================================
# GENERAL
# ===================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# ===================================
# NOTAS IMPORTANTES
# ===================================
# 1. NUNCA commite .env.local no Git!
# 2. Mínimo obrigatório:
#    CORE:
#    - NEXT_PUBLIC_SUPABASE_URL
#    - NEXT_PUBLIC_SUPABASE_ANON_KEY
#    - SUPABASE_SERVICE_ROLE_KEY
#    - NEXTAUTH_URL
#    - NEXTAUTH_SECRET
#    - OPENAI_API_KEY (para documentos)
#    - NEXT_PUBLIC_OPENAI_API_KEY (para chat de voz - Realtime API)
#    - DID_API_KEY (para avatar visual no chat)
#
#    P2 AUTOMATION (obrigatório para sistemas P2):
#    - CRON_SECRET (cron jobs)
#    - REDIS_URL (filas e estado)
#    - RESEND_API_KEY + RESEND_FROM_EMAIL (email sequences)
#    - WHATSAPP_API_TOKEN + WHATSAPP_PHONE_NUMBER_ID (whatsapp automation)
#    - CLICKSIGN_API_TOKEN (documentos)
#    - PJE_API_URL + PJE_API_TOKEN (processos)
# 3. Para produção, configure no Vercel:
#    Settings → Environment Variables
# 4. Use valores de TESTE em desenvolvimento
# 5. Rotacione secrets regularmente
